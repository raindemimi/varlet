import{A as _}from"./AppType.4c910996.js";import{u as G,a as J,c as z,e as k,b as R,d as X}from"./components.0c747098.js";import{d as H,b as $,w as B,n as F,aw as L,_ as K,f as N,h as w,O as I,N as g,a as T,p as Z,M as y,D as x,E as ee,P as c,Q as m,q as i,r as te,S as o,an as t,F as le}from"./vue-router.esm-bundler.42d3c0c2.js";import{r as O,n as ae}from"./elements.6430139a.js";import{I as ne}from"./index.457a143c.js";import{B as oe}from"./index.508a1ba9.js";import{S as se}from"./index.69e1468b.js";import{d as ie}from"./index.8b4f1b33.js";import{u as ue,a as Y,_ as re,b as de,c as ce}from"./index.2dfd012d.js";import{a as me,b as fe}from"./utils.76713588.js";import"./index.b48b1ecd.js";import"./index.712020a1.js";/* empty css               */import"./index.d61a6ab5.js";const q=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY"),Q=Symbol("COLLAPSE_COUNT_COLLAPSE_ITEM_KEY");function ve(){const{bindChildren:e,childProviders:s}=J(q),{length:n}=G(Q);return{length:n,collapseItem:s,bindCollapseItem:e}}const pe={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:Ce}=z("collapse"),he=H({name:"VarCollapse",props:pe,setup(e){const{length:s,collapseItem:n,bindCollapseItem:b}=ve(),p=$(()=>e.modelValue),l=$(()=>e.offset),d=()=>!e.accordion&&!L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&L(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,f=(u,r)=>d()?r?e.accordion?u:[...e.modelValue,u]:e.accordion?null:e.modelValue.filter(h=>h!==u):null,S=(u,r)=>{const h=f(u,r);k(e["onUpdate:modelValue"],h),k(e.onChange,h)},A=()=>{if(e.accordion)return n.find(({name:r})=>e.modelValue===r.value);const u=n.filter(({name:r})=>r.value===void 0?!1:e.modelValue.includes(r.value));return u.length?u:void 0},P=()=>e.accordion?n.find(({index:u,name:r})=>r.value===void 0?e.modelValue===u.value:!1):n.filter(({index:u,name:r})=>r.value===void 0?e.modelValue.includes(u.value):!1),E=()=>{if(!d())return;const u=A()||P();if(e.accordion&&!u||!e.accordion&&!u.length){n.forEach(r=>{r.init(e.accordion,!1)});return}n.forEach(r=>{const h=e.accordion?u===r:u.includes(r);r.init(e.accordion,h)})};return b({active:p,offset:l,updateItem:S}),B(()=>s.value,()=>F().then(E)),B(()=>e.modelValue,()=>F().then(E)),{n:Ce}}});function ge(e,s,n,b,p,l){return N(),w("div",{class:g(e.n())},[I(e.$slots,"default")],2)}const V=K(he,[["render",ge]]);V.install=function(e){e.component(V.name,V)};function Ve(){const{parentProvider:e,bindParent:s}=R(q),{index:n}=X(Q);if(!e||!s||!n)throw Error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");return{index:n,collapse:e,bindCollapse:s}}const be={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}},{n:_e,classes:ye}=z("collapse-item"),Se=H({name:"VarCollapseItem",components:{VarIcon:ne},props:be,setup(e){const{index:s,collapse:n,bindCollapse:b}=Ve();let p=!0;const l=T(null),d=T(!1),f=T(!1),{active:S,offset:A,updateItem:P}=n,E=$(()=>e.name),U=(C,D)=>{S.value===void 0||C&&L(S.value)||D===f.value||(f.value=D,u(!0))},u=C=>{e.disabled||C||P(e.name||s.value,!f.value)},r=()=>{!l.value||(l.value.style.height="",d.value=!0,F(()=>{const{offsetHeight:C}=l.value;l.value.style.height=0+"px",O(()=>{l.value.style.height=C+"px",p&&ae(()=>{p&&M()})})}))},h=()=>{p=!1},j=()=>{if(!l.value)return;const{offsetHeight:C}=l.value;l.value.style.height=C+"px",O(()=>{l.value.style.height=0+"px"})},M=()=>{f.value||(d.value=!1),l.value.style.height=""};return b({index:s,name:E,init:U}),B(f,C=>{C?r():j()}),{n:_e,start:h,classes:ye,show:d,isShow:f,offset:A,toggle:u,contentEl:l,transitionend:M}}});function Ee(e,s,n,b,p,l){const d=Z("var-icon");return N(),w("div",{class:g(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[y("div",{class:g(e.n("header")),onClick:s[0]||(s[0]=f=>e.toggle())},[y("div",{class:g(e.n("header-title"))},[I(e.$slots,"title",{},()=>[c(m(e.title),1)])],2),y("div",{class:g(e.n("header-icon"))},[I(e.$slots,"icon",{},()=>[i(d,{name:e.icon,transition:250,class:g(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),x(y("div",{class:g(e.n("content")),ref:"contentEl",onTransitionend:s[1]||(s[1]=(...f)=>e.transitionend&&e.transitionend(...f)),onTransitionstart:s[2]||(s[2]=(...f)=>e.start&&e.start(...f))},[y("div",{class:g(e.n("content-wrap"))},[I(e.$slots,"default")],2)],34),[[ee,e.show]])],2)}const v=K(Se,[["render",Ee]]);v.install=function(e){e.component(v.name,v)};const Ie={basicUsage:"\u57FA\u672C\u4F7F\u7528",hideMargin:"\u9690\u85CF\u8FB9\u8DDD",accordionMode:"\u624B\u98CE\u7434\u6A21\u5F0F",disabled:"\u7981\u7528",enable:"\u542F\u7528",customContent:"\u81EA\u5B9A\u4E49\u5185\u5BB9",title:"\u6807\u9898",text:"\u6587\u672C",slotTitle:"\u8FD9\u662F\u6807\u9898",slotContent:"\u8FD9\u662F\u5185\u5BB9"},Te={basicUsage:"Basic Usage",hideMargin:"Hide Margin",accordionMode:"Accordion Mode",disabled:"Disabled",enable:"Enable",customContent:"Custom Content",title:"Title",text:"Hello World",slotTitle:"This is a Title",slotContent:"This is a content"},{add:W,use:Ae,pack:a,packs:Qe,merge:We}=ue(),Pe=e=>{ce(e),Ae(e)};Y("zh-CN",re);Y("en-US",de);W("zh-CN",Ie);W("en-US",Te);const $e=c("^_^"),je={setup(e){const s=T(!1),n=te({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]}),b=p=>{console.log(p)};return me(Pe),fe(ie),(p,l)=>(N(),w(le,null,[i(t(_),null,{default:o(()=>[c(m(t(a).basicUsage),1)]),_:1}),i(t(V),{modelValue:t(n).value,"onUpdate:modelValue":l[0]||(l[0]=d=>t(n).value=d),onChange:b},{default:o(()=>[i(t(v),{title:t(a).title,name:"1"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"]),i(t(v),{title:t(a).title,name:"2"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(t(_),null,{default:o(()=>[c(m(t(a).hideMargin),1)]),_:1}),i(t(V),{modelValue:t(n).value4,"onUpdate:modelValue":l[1]||(l[1]=d=>t(n).value4=d),offset:!1},{default:o(()=>[i(t(v),{title:t(a).title,name:"1"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"]),i(t(v),{title:t(a).title,name:"2"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(t(_),null,{default:o(()=>[c(m(t(a).accordionMode),1)]),_:1}),i(t(V),{modelValue:t(n).value1,"onUpdate:modelValue":l[2]||(l[2]=d=>t(n).value1=d),accordion:"",offset:!1},{default:o(()=>[i(t(v),{title:t(a).title,name:"1"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"]),i(t(v),{title:t(a).title,name:"2"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),i(t(_),null,{default:o(()=>[c(m(t(a).disabled),1)]),_:1}),i(t(se),{direction:"column",size:[8,8]},{default:o(()=>[i(t(oe),{onClick:l[3]||(l[3]=d=>s.value=!s.value)},{default:o(()=>[c(m(s.value?t(a).enable:t(a).disabled),1)]),_:1}),i(t(V),{modelValue:t(n).value2,"onUpdate:modelValue":l[4]||(l[4]=d=>t(n).value2=d)},{default:o(()=>[i(t(v),{title:t(a).title,name:1,disabled:s.value},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title","disabled"]),i(t(v),{title:t(a).title,name:2,disabled:s.value},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),i(t(_),null,{default:o(()=>[c(m(t(a).customContent),1)]),_:1}),i(t(V),{modelValue:t(n).value3,"onUpdate:modelValue":l[5]||(l[5]=d=>t(n).value3=d)},{default:o(()=>[i(t(v),{title:t(a).slotTitle,name:"1",icon:"account-circle"},{default:o(()=>[c(m(t(a).text),1)]),_:1},8,["title"]),i(t(v),{name:"2"},{title:o(()=>[c(m(t(a).slotTitle),1)]),icon:o(()=>[$e]),default:o(()=>[c(" "+m(t(a).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{je as default};
